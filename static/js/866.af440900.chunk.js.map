{"version":3,"file":"static/js/866.af440900.chunk.js","mappings":"sPACA,EAAuB,sBAAvB,EAAoD,sB,SCiDpD,EA5CgB,WACd,IAAQA,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAAwCE,EAAAA,EAAAA,YAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAEMC,EAAgB,mCAAG,WAAML,GAAN,iGAEMM,EAAAA,EAAAA,IAAa,QAASN,GAF5B,OAEfG,EAFe,OAGrBC,EAAgBD,EAAaI,SAHR,uGAAH,sDAWtB,OAJAC,EAAAA,EAAAA,YAAU,WACRH,EAAiBL,EAClB,GAAE,CAACA,SAEoBS,IAAjBN,GAAsD,IAAxBA,EAAaO,QAChD,sCAEGP,EAAaQ,KAAI,SAAAC,GAAE,OAClB,eAAIC,UAAWC,EAAf,UACE,2BACE,sCACU,0BAAOF,EAAGG,aAEpB,cAAGF,UAAWC,EAAd,SAAyBF,EAAGI,cANd,QAYtB,0DAEH,C,+LCrCKC,EAAM,mCACZC,EAAAA,EAAAA,SAAAA,QAAyB,+BAElB,IAAMC,EAAa,mCAAG,WAAOC,EAAWC,EAAOC,GAAzB,uFACJJ,EAAAA,EAAAA,IAAA,WACjBE,EADiB,YACJC,EADI,oBACaJ,EADb,iBACyBK,IAFrB,cACrBC,EADqB,yBAIpBA,EAASC,KAAKjB,SAJM,2CAAH,0DAObkB,EAAY,mCAAG,WAAOL,EAAWpB,GAAlB,uFACHkB,EAAAA,EAAAA,IAAA,WAAcE,EAAd,YAA2BpB,EAA3B,oBAA8CiB,IAD3C,cACpBM,EADoB,yBAEnBA,EAASC,MAFU,2CAAH,wDAKZE,EAAY,mCAAG,WAAON,EAAWpB,GAAlB,uFACHkB,EAAAA,EAAAA,IAAA,WACjBE,EADiB,YACJpB,EADI,4BACuBiB,IAFpB,cACpBM,EADoB,yBAInBA,EAASC,MAJU,2CAAH,wDAOZlB,EAAY,mCAAG,WAAOc,EAAWpB,GAAlB,uFACHkB,EAAAA,EAAAA,IAAA,WACjBE,EADiB,YACJpB,EADI,4BACuBiB,IAFpB,cACpBM,EADoB,yBAInBA,EAASC,MAJU,2CAAH,wDAOZG,EAAY,mCAAG,WAAON,EAAOC,GAAd,uFACHJ,EAAAA,EAAAA,IAAA,gCACID,EADJ,kBACiBI,EADjB,iBAC+BC,IAF5B,cACpBC,EADoB,yBAInBA,EAASC,KAAKjB,SAJK,2CAAH,uD","sources":["webpack://react-homework-template/./src/pages/Reviews/Reviews.module.css?9a3e","pages/Reviews/Reviews.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"list\":\"Reviews_list__pCzae\",\"text\":\"Reviews_text__fgYm-\"};","import { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { fetchReviews } from 'services/api';\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [movieReviews, setMovieReviews] = useState();\n\n  const fetchReviewsData = async movieId => {\n    try {\n      const movieReviews = await fetchReviews('movie', movieId);\n      setMovieReviews(movieReviews.results);\n    } catch (error) {}\n  };\n\n  useEffect(() => {\n    fetchReviewsData(movieId);\n  }, [movieId]);\n\n  return movieReviews !== undefined && movieReviews.length !== 0 ? (\n    <div>\n      Reviews:\n      {movieReviews.map(el => (\n        <ul className={css.list}>\n          <li>\n            <h3>\n              AUTHOR: <span>{el.author}</span>\n            </h3>\n            <p className={css.text}>{el.content}</p>\n          </li>\n        </ul>\n      ))}\n    </div>\n  ) : (\n    <div>We don't have any reviews yet</div>\n  );\n};\n\nReviews.propTypes = {\n  movieReviews: PropTypes.arrayOf(\n    PropTypes.objectOf({\n      author: PropTypes.string,\n      content: PropTypes.string,\n    })\n  ),\n  fetchReviewsData: PropTypes.func,\n};\n\nexport default Reviews;\n","import axios from 'axios';\nconst KEY = 'e49decb7b714a95bd454096b6ce610cd';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchTrending = async (queryType, query, page) => {\n  const response = await axios.get(\n    `/${queryType}/${query}?api_key=${KEY}&page=${page}`\n  );\n  return response.data.results;\n};\n\nexport const fetchDetails = async (queryType, movieId) => {\n  const response = await axios.get(`/${queryType}/${movieId}?api_key=${KEY}`);\n  return response.data;\n};\n\nexport const fetchCredits = async (queryType, movieId) => {\n  const response = await axios.get(\n    `/${queryType}/${movieId}/credits?api_key=${KEY}`\n  );\n  return response.data;\n};\n\nexport const fetchReviews = async (queryType, movieId) => {\n  const response = await axios.get(\n    `/${queryType}/${movieId}/reviews?api_key=${KEY}`\n  );\n  return response.data;\n};\n\nexport const fetchByQuery = async (query, page) => {\n  const response = await axios.get(\n    `/search/movie?api_key=${KEY}&query=${query}&page=${page}`\n  );\n  return response.data.results;\n};\n"],"names":["movieId","useParams","useState","movieReviews","setMovieReviews","fetchReviewsData","fetchReviews","results","useEffect","undefined","length","map","el","className","css","author","content","KEY","axios","fetchTrending","queryType","query","page","response","data","fetchDetails","fetchCredits","fetchByQuery"],"sourceRoot":""}